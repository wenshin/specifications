### 基于 Git 的开发工作流

#### 名词解释

**关系人**： 于工作相关联的人，一般为设计人员、开发人员、决策者、使用者。

#### 版本计划

版本计划是设定一个最新的版本用来完成未来计划的工作。具体版本设定方法见版本使用见[版本规范](./version.md)。

#### 开发阶段

* **阶段一，概要设计和评审**。根据原始需求实现架构设计（模块划分、技术选型等），
并评审。一般由类架构师角色进行设计和发起评审。一般所有关系人都参加。

* **阶段二，详细设计、版本计划和评审**。根据概要设计实现模块设计
（功能模块、API细节、目录结构、技术选型等），
根据详细设计评估开发时间指定版本计划并评审。一般由模块开发负责人进行设计和发起评审，
评审一般由**模块负责人、共同开发者以及模块使用者**参加。

* **阶段三，开发、自测试和 Code Review**。使用约定好的目录结构、API 接口设计，
出现变更需要及时提出让关系人知晓。开发过程中使用 TDD，**不依赖与其他模块联调**进行所有功能测试，
功能尽量拆分细，分批次提交代码库并进行 Code Review。
Code Review 者为**共同开发者**或者**接口使用者**并且**参与了阶段二的设计评审**。

* **阶段四，测试版本发布**。测试版本参见[版本规范](./version.md) 。

* **阶段五，正式版本发布**。

#### 核心分支

1. Master。master 分支为目前最新的稳定代码（即发布的正式版本）。只能合并经过测试的完整版本的代码，以及严重的功能性或安全性 Bug（这个过程可能会打乱版本计划。如：master：1.0.0，版本计划：1.0.1，突然出现安全漏洞需要修复，但是没有完成 1.0.1 的版本计划，这时版本计划后延为1.0.2，修复的漏洞合并进 master 后，发布 1.0.1）。合并后即添加正式版本号
Tag，具体见[版本规范](./version.md)。

2. Dev。dev 分支为尚在开发中的最新代码，可以是计划的 Bug 修复和新特性开发。分支开发完成后即向 dev 中合并，完成版本计划开发后添加对应版本的 Tag（测试版本号）；

3. 历史版本维护分支（分支名为正式版本号）。该分支是为了维护历史不兼容版本的分支版本。出现该版本，说明 master 已经是一个不兼容的高版本，但是为了修复低版本的一些安全 Bug 或者其它 Bug，需要维护就的版本，这时需要该分支用来保存旧分支的代码，该分支稳定后添加正式版本 Tag，测试期间也可以添加测试版本 Tag。

#### 开发分支

1. Feature分支，新特性分支，分支名称格式（可随意，也可以使用feature/name）开发完成后即可发起MR合并到Dev分支中

2. Fixbug 分支，修复Bug分支，名称格式可随意，也可以使用fix/name。提交时如果有相应的issue请注明issue号（如：#1）。
